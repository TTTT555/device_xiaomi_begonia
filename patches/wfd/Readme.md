Revert this commits:
https://github.com/crdroidandroid/android_frameworks_av/commit/733dba7fd3612f7fb64bb8a7bb055d5adaa14cce
https://github.com/crdroidandroid/android_frameworks_base/commit/0538d6c4b7082c9bdf2bee79446288b7d0bf1325

Then cherry-pick this:
https://github.com/TTTT555/frameworks_av/commit/9607c67a83b088bf8b5499b824dc06f93c0ac55b
